"use strict";(self.webpackChunkdynamic_delivery_date_documentation=self.webpackChunkdynamic_delivery_date_documentation||[]).push([[691],{1022:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>a,contentTitle:()=>d,default:()=>p,frontMatter:()=>l,metadata:()=>r,toc:()=>o});var s=n(4848),t=n(8453);const l={sidebar_position:2},d="Widgets",r={id:"settings/widgets",title:"Widgets",description:"Create and manage multiple delivery date widgets. Use preset widget templates or customize them how you like. Widgets are designed in html and support liquid syntax along with additionally provided liquid variables and filters.",source:"@site/docs/settings/widgets.md",sourceDirName:"settings",slug:"/settings/widgets",permalink:"/dynamic-delivery-date-documentation/docs/settings/widgets",draft:!1,unlisted:!1,editUrl:"https://github.com/edgeless-apps/dynamic-delivery-date-documentation/tree/main/docs/settings/widgets.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2},sidebar:"tutorialSidebar",previous:{title:"Shop settings",permalink:"/dynamic-delivery-date-documentation/docs/settings/shop-settings"},next:{title:"Shipping profiles",permalink:"/dynamic-delivery-date-documentation/docs/settings/shipping-profiles"}},a={},o=[{value:"Supported liquid",id:"supported-liquid",level:2},{value:"Shopify objects",id:"shopify-objects",level:2},{value:"localization <code>object</code>",id:"localization-object",level:3},{value:"customer <code>object</code>",id:"customer-object",level:3},{value:"cart <code>object</code>",id:"cart-object",level:3},{value:"product <code>object</code>",id:"product-object",level:3},{value:"App objects",id:"app-objects",level:2},{value:"rates <code>array</code>",id:"rates-array",level:3},{value:"Properties",id:"properties",level:4},{value:"Example usage",id:"example-usage",level:4},{value:"shop <code>object</code>",id:"shop-object",level:3},{value:"Properties",id:"properties-1",level:4},{value:"Example usage",id:"example-usage-1",level:4},{value:"widget <code>object</code>",id:"widget-object",level:3},{value:"Properties",id:"properties-2",level:4},{value:"Example usage",id:"example-usage-2",level:4},{value:"App global properties",id:"app-global-properties",level:2},{value:"Properties",id:"properties-3",level:4},{value:"App tags",id:"app-tags",level:2},{value:"countdown",id:"countdown",level:3},{value:"countdown tag parameters",id:"countdown-tag-parameters",level:4},{value:"countdown tag context data",id:"countdown-tag-context-data",level:4},{value:"Example usage",id:"example-usage-3",level:4},{value:"App filters",id:"app-filters",level:2},{value:"consolidated_date",id:"consolidated_date",level:3},{value:"Example usage",id:"example-usage-4",level:4},{value:"countdown",id:"countdown-1",level:3},{value:"countdown filter parameters",id:"countdown-filter-parameters",level:4},{value:"Example usage",id:"example-usage-5",level:4},{value:"pluralize",id:"pluralize",level:3},{value:"pluralize filter parameters",id:"pluralize-filter-parameters",level:4},{value:"Example usage",id:"example-usage-6",level:4},{value:"pluralize_with_empty",id:"pluralize_with_empty",level:3},{value:"pluralize_with_empty filter parameters",id:"pluralize_with_empty-filter-parameters",level:4},{value:"Example usage",id:"example-usage-7",level:4},{value:"Shopify references",id:"shopify-references",level:2}];function c(e){const i={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,t.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"widgets",children:"Widgets"})}),"\n",(0,s.jsx)(i.p,{children:"Create and manage multiple delivery date widgets. Use preset widget templates or customize them how you like. Widgets are designed in html and support liquid syntax along with additionally provided liquid variables and filters."}),"\n",(0,s.jsx)(i.h2,{id:"supported-liquid",children:"Supported liquid"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://shopify.dev/docs/api/liquid/tags",children:"General liquid"})}),"\n"]}),"\n",(0,s.jsx)(i.admonition,{type:"caution",children:(0,s.jsxs)(i.p,{children:["Not all Shopify tags, filter, and objects are available. Contact support at ",(0,s.jsx)(i.a,{href:"mailto:edgeless.apps@gmail.com",children:"edgeless.apps@gmail.com"})," for a specify use case you would like to achieve."]})}),"\n",(0,s.jsx)(i.h2,{id:"shopify-objects",children:"Shopify objects"}),"\n",(0,s.jsxs)(i.h3,{id:"localization-object",children:["localization ",(0,s.jsx)("code",{children:"object"})]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://shopify.dev/docs/api/liquid/objects/localization",children:"https://shopify.dev/docs/api/liquid/objects/localization"})}),"\n"]}),"\n",(0,s.jsxs)(i.h3,{id:"customer-object",children:["customer ",(0,s.jsx)("code",{children:"object"})]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://shopify.dev/docs/api/liquid/objects/customer",children:"https://shopify.dev/docs/api/liquid/objects/customer"})}),"\n"]}),"\n",(0,s.jsxs)(i.h3,{id:"cart-object",children:["cart ",(0,s.jsx)("code",{children:"object"})]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://shopify.dev/docs/api/liquid/objects/cart",children:"https://shopify.dev/docs/api/liquid/objects/cart"})}),"\n"]}),"\n",(0,s.jsxs)(i.h3,{id:"product-object",children:["product ",(0,s.jsx)("code",{children:"object"})]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://shopify.dev/docs/api/liquid/objects/product",children:"https://shopify.dev/docs/api/liquid/objects/product"})}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"app-objects",children:"App objects"}),"\n",(0,s.jsxs)(i.h3,{id:"rates-array",children:["rates ",(0,s.jsx)("code",{children:"array"})]}),"\n",(0,s.jsx)(i.p,{children:"Shipping rates in with flat transit time"}),"\n",(0,s.jsx)(i.h4,{id:"properties",children:"Properties"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["name: ",(0,s.jsx)("code",{children:"string"})]}),"\n",(0,s.jsxs)(i.li,{children:["price: ",(0,s.jsx)("code",{children:"number"})]}),"\n",(0,s.jsxs)(i.li,{children:["transit_time ",(0,s.jsx)("code",{children:"object"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["min: ",(0,s.jsx)("code",{children:"number"})]}),"\n",(0,s.jsxs)(i.li,{children:["max: ",(0,s.jsx)("code",{children:"number"})]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["estimated_delivery_time ",(0,s.jsx)("code",{children:"object"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["min: ",(0,s.jsx)("code",{children:"string"})," - timestamp"]}),"\n",(0,s.jsxs)(i.li,{children:["max: ",(0,s.jsx)("code",{children:"string"})," - timestamp"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["consolidated_estimated_delivery_time ",(0,s.jsx)("code",{children:"string"})]}),"\n"]}),"\n",(0,s.jsx)(i.h4,{id:"example-usage",children:"Example usage"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-html",children:"{% for rate in rates %}\n<div>\n  <p>\n    <strong>{{rate.name}}</strong>\n    <span>\n      {% if rate.price == 0 %}\n        FREE\n      {% else %}\n        ${{rate.price}}\n      {% endif %}\n    </span>\n  </p>\n  <p>\n    <span>Delivery</span>\n    <span>\n      {% if rate.consolidated_estimated_delivery_time != nil %}\n        {{rate.consolidated_estimated_delivery_time}}\n      {% else %}\n        {{rate.transit_time.min}} to {{rate.transit_time.max}} business days {%\n      endif %}\n    </span>\n  </p>\n</div>\n{% endfor %}\n"})}),"\n",(0,s.jsxs)(i.h3,{id:"shop-object",children:["shop ",(0,s.jsx)("code",{children:"object"})]}),"\n",(0,s.jsx)(i.h4,{id:"properties-1",children:"Properties"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["order_cutoff_time: ",(0,s.jsx)("code",{children:"string"})," - timestamp"]}),"\n",(0,s.jsxs)(i.li,{children:["estimated_shipping_time: ",(0,s.jsx)("code",{children:"string"})," - timestamp"]}),"\n"]}),"\n",(0,s.jsx)(i.h4,{id:"example-usage-1",children:"Example usage"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-html",children:"{% if shop.order_cutoff_time != nil %}\n<div>\n  <span>Order by</span>\n  {% assign cutoff_day = shop.order_cutoff_time | date: '%Y/%m/%d' %}\n  {% assign today = now | date: '%Y/%m/%d' %}\n  <strong>{{shop.order_cutoff_time | date: '%l:%M %p'}}</strong>\n  {% if cutoff_day != today %}\n    <span>{{shop.order_cutoff_time | date: '%A, %B %e'}}</span>\n  {% endif %}\n</div>\n{% endif %}\n"})}),"\n",(0,s.jsxs)(i.h3,{id:"widget-object",children:["widget ",(0,s.jsx)("code",{children:"object"})]}),"\n",(0,s.jsx)(i.h4,{id:"properties-2",children:"Properties"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["type: ",(0,s.jsx)("code",{children:"string"})," - any string can be be set to differentiate widget placement or purpose."]}),"\n",(0,s.jsxs)(i.li,{children:["payload: ",(0,s.jsx)("code",{children:"object"})," - any json data can be added for advanced use cases."]}),"\n"]}),"\n",(0,s.jsx)(i.h4,{id:"example-usage-2",children:"Example usage"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-html",children:"{% case widget.type %}\n  {% when 'product' %}\n    <div>\n      Custom product page data: {{widget.payload.very.custom.product_page.data}}\n    </div>\n  {% when 'collection' %}\n    <div>\n      Custom collection page data:\n      {{widget.payload.very.custom.collection_page.data}}\n    </div>\n{% endcase %}\n"})}),"\n",(0,s.jsx)(i.h2,{id:"app-global-properties",children:"App global properties"}),"\n",(0,s.jsx)(i.h4,{id:"properties-3",children:"Properties"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["now ",(0,s.jsx)("code",{children:"string"})," - timestamp updates each render ie. variant selection"]}),"\n",(0,s.jsxs)(i.li,{children:["today ",(0,s.jsx)("code",{children:"string"})," - alias for ",(0,s.jsx)(i.em,{children:"now"})]}),"\n",(0,s.jsxs)(i.li,{children:["tomorrow ",(0,s.jsx)("code",{children:"string"})," - timestamp updates each render ie. variant selection"]}),"\n",(0,s.jsxs)(i.li,{children:["frozen_now ",(0,s.jsx)("code",{children:"string"})," - timestamp does not update after page load"]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"app-tags",children:"App tags"}),"\n",(0,s.jsx)(i.h3,{id:"countdown",children:"countdown"}),"\n",(0,s.jsx)(i.p,{children:"Provides context to create a countdown timer"}),"\n",(0,s.jsx)(i.h4,{id:"countdown-tag-parameters",children:"countdown tag parameters"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["event: ",(0,s.jsx)("code",{children:"string"})]}),"\n",(0,s.jsxs)(i.li,{children:["freeze: ",(0,s.jsx)("code",{children:"boolean"})]}),"\n"]}),"\n",(0,s.jsx)(i.h4,{id:"countdown-tag-context-data",children:"countdown tag context data"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["days: ",(0,s.jsx)("code",{children:"number"})]}),"\n",(0,s.jsxs)(i.li,{children:["hours: ",(0,s.jsx)("code",{children:"number"})]}),"\n",(0,s.jsxs)(i.li,{children:["minutes: ",(0,s.jsx)("code",{children:"number"})]}),"\n",(0,s.jsxs)(i.li,{children:["seconds: ",(0,s.jsx)("code",{children:"number"})]}),"\n"]}),"\n",(0,s.jsx)(i.h4,{id:"example-usage-3",children:"Example usage"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-html",children:"{% countdown event: shop.order_cutoff_time, freeze: true %}\n<p>\n  Order within\n  <strong>\n    <span>{{days | pluralize_with_empty: ' day', ' days'}}</span>\n    <span>{{hours | pluralize_with_empty: ' hour', ' hours'}}</span>\n    <span>{{minutes | pluralize: ' min', ' mins'}}</span>\n    <span>{{seconds | pluralize: ' sec', ' secs'}}</span>\n  </strong>\n</p>\n{% endcountdown %}\n"})}),"\n",(0,s.jsx)(i.h2,{id:"app-filters",children:"App filters"}),"\n",(0,s.jsx)(i.h3,{id:"consolidated_date",children:"consolidated_date"}),"\n",(0,s.jsxs)(i.p,{children:["Converts ",(0,s.jsx)("code",{children:"rate.estimated_delivery_time"})," min and max timestamps into a consolidated date range with a date format."]}),"\n",(0,s.jsxs)(i.p,{children:["This filter accepts the same parameters as Ruby's strftime method for formatting the date. For a list of shorthand formats, refer to the ",(0,s.jsx)(i.a,{href:"https://ruby-doc.org/core-3.1.1/Time.html#method-i-strftime",children:"Ruby documentation"})," or ",(0,s.jsx)(i.a,{href:"https://www.strfti.me/",children:"strftime reference and sandbox"}),"."]}),"\n",(0,s.jsx)(i.h4,{id:"example-usage-4",children:"Example usage"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-html",children:"<div>\n  <span>Delivery</span>\n  <strong>\n    {{rate.estimated_delivery_time | consolidated_date: '%b %d'}}\n  </strong>\n</div>\n"})}),"\n",(0,s.jsx)(i.h3,{id:"countdown-1",children:"countdown"}),"\n",(0,s.jsx)(i.p,{children:"Creates a countdown timer in a basic format ie."}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-html",children:"{{days | pluralize_with_empty: ' day', ' days'}} {{hours | pluralize_with_empty: ' hour', ' hours'}} {{minutes | pluralize: ' min', ' mins'}}\n"})}),"\n",(0,s.jsx)(i.h4,{id:"countdown-filter-parameters",children:"countdown filter parameters"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["freeze: ",(0,s.jsx)("code",{children:"boolean"})]}),"\n"]}),"\n",(0,s.jsx)(i.h4,{id:"example-usage-5",children:"Example usage"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-html",children:"<p>\n  Order within\n  <strong> {{shop.order_cutoff_time | countdown }} </strong>\n</p>\n"})}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-html",children:"<p>\n  Order within\n  <strong> {{shop.order_cutoff_time | countdown: freeze: true }} </strong>\n</p>\n"})}),"\n",(0,s.jsx)(i.h3,{id:"pluralize",children:"pluralize"}),"\n",(0,s.jsx)(i.p,{children:"Given a number, outputs number with a singular or plural string appended."}),"\n",(0,s.jsx)(i.h4,{id:"pluralize-filter-parameters",children:"pluralize filter parameters"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["singlar/plural tuple ",(0,s.jsx)("code",{children:"array"})]}),"\n"]}),"\n",(0,s.jsx)(i.h4,{id:"example-usage-6",children:"Example usage"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-html",children:"<p>{{rate.transit_time.min | pluralize ' day', ' days'}}</p>\n"})}),"\n",(0,s.jsx)(i.h3,{id:"pluralize_with_empty",children:"pluralize_with_empty"}),"\n",(0,s.jsxs)(i.p,{children:["Given a number, outputs number with a singular or plural string appended. Outputs blank if given ",(0,s.jsx)(i.em,{children:"zero"}),"."]}),"\n",(0,s.jsx)(i.h4,{id:"pluralize_with_empty-filter-parameters",children:"pluralize_with_empty filter parameters"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["singlar/plural tuple ",(0,s.jsx)("code",{children:"array"})]}),"\n"]}),"\n",(0,s.jsx)(i.h4,{id:"example-usage-7",children:"Example usage"}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-html",children:"<p>{{rate.transit_time.min | pluralize_with_empty ' day', ' days'}}</p>\n"})}),"\n",(0,s.jsx)(i.h2,{id:"shopify-references",children:"Shopify references"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:(0,s.jsx)(i.a,{href:"https://shopify.dev/docs/api/liquid",children:"Shopify liquid reference"})}),"\n"]})]})}function p(e={}){const{wrapper:i}={...(0,t.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}},8453:(e,i,n)=>{n.d(i,{R:()=>d,x:()=>r});var s=n(6540);const t={},l=s.createContext(t);function d(e){const i=s.useContext(l);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function r(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:d(e.components),s.createElement(l.Provider,{value:i},e.children)}}}]);